<!DOCTYPE html>
<html>
<head>
<title>Documentor</title>
<script type="text/javascript" src="resources/jquery-1.10.2.js"></script><link rel="stylesheet" href="resources/PHGDoc.css" type="text/css">
<meta charset="utf-8">
<script type="text/javascript">(function (){
var renderFn=function (api){
			function printNS(obj){ // print menu items
				var html='<ul>',
					titleStr='';
				if(obj.type=='api')
					titleStr=obj.name.split(api.NSPathSeparator).pop();
				else if(obj.type=='namespace')
					titleStr='<em>namespace</em> '+obj.name.split(api.NSPathSeparator).pop();
				else if(obj.type=='module')
					titleStr='<em>module</em> '+obj.name.split(api.NSPathSeparator).pop();
				else{
					titleStr='<span>'+obj.name.split(api.NSPathSeparator).pop();
					if(obj.flags && !$.isEmptyObject(obj.flags)){
						var flags=[];
						for(var f in obj.flags)
							if(obj.flags[f])
								flags.push(f.charAt(0));
						if(flags.length)
							titleStr+=' <span class="object-attributes">('+flags.join()+')</span>';
					}
					titleStr+='</span>';
				}
				html+='<li class="object-title obj-link" ns-path="'+obj.name+'">'+titleStr+'</li>';
				
				var children=[];
				for(var c in obj.children)
					children.push(obj.children[c]);
				children.sort(function (a, b){
					return (a.name<b.name?-1:(a.name>b.name?1:0));
				});
				for(var i=0; i<children.length; ++i){
					html+='<li class="children-list">'+printNS(children[i])+'</li>';
				}
				
				html+='</ul>';
				return html;
			}
			$('body').append('<div id="selectionInfoWrap"><div id="selectionInfo"></div></div><div id="apiTreeWrap"><div id="apiTree">'+printNS(api.ns)+'</div></div>');
			var storage={
				hideInherited:false
			};
			function renderObj(obj){
				storage.obj=obj;
				var hierarchy=[[obj.name, obj]],
					html='',
					list;
				if('extends' in obj){
					var parentClass=obj['extends'],
						parentClassObj=api.getNSObject(parentClass);
					do{
						var hObj=[parentClass, null];
						hierarchy.unshift(hObj);
						if(parentClassObj){
							hObj[1]=parentClassObj;
							if('extends' in parentClassObj){
								parentClass=parentClassObj['extends'];
								parentClassObj=api.getNSObject(parentClass);
							}else
								parentClass=null;
						}else
							parentClass=null;
					}while(parentClass);
					var cls=hierarchy[0];
					html+='<div class="hierarchy"><em>hierarchy:</em> <div class="hierarchy-item"><div class="hierarchy-item-title'+(cls[1]?(' obj-link" ns-path="'+cls[0]+'"'):'"')+'>'+cls[0]+'</div>';
					var ending='<div class="hierarchy-item hierarchy-sub-item"><div class="hierarchy-item-title">'+hierarchy[hierarchy.length-1][0]+'</div></div>' +
							'</div></div>';
					for(var i=1; i<hierarchy.length-1; i++){
						html+='<div class="hierarchy-item hierarchy-sub-item"><div class="hierarchy-item-title'+(hierarchy[i][1]?(' obj-link" ns-path="'+hierarchy[i][0]+'"'):'"')+'>'+hierarchy[i][0]+'</div>';
						ending+='</div>';
					}
					html+=ending;
				}
				html+='<div><em>'+(obj.type!='api'?obj.type:'')+'</em> <strong>'+obj.name+'</strong>';
				if(!$.isEmptyObject(obj.flags)){
					var flags=[];
					for(var f in obj.flags)
						if(obj.flags[f])
							flags.push(f);
					if(flags.length)
						html+='<div><span class="object-attributes">( '+flags.join()+' )</span></div>';
				}
				if('definedIn' in obj){
					html+='<div class="defined-in"><em>defined in:</em> '+obj.definedIn.split('/').pop()+'</div>';
				}
				if(obj.description)
					html+='<p>'+obj.description+'</p>';
				if('subclasses' in obj){
					list=[];
					for(var i=0; i<obj.subclasses.length; i++)
						list.push('<span class="obj-link" ns-path="'+obj.subclasses[i].name+'">'+obj.subclasses[i].name+'</span>');
					html+='<p><em>subclasses:</em> '+list.join(', ')+'</p>';
				}				
				html+='</div>';
				html+='<div class="clear">';
				if(obj.type=='class')
					html+='<input type="checkbox"'+(storage.hideInherited?' checked':'')+' class="hide-inherited"> hide inherited';
				html+='</div>';
				
				/**
				 */
				function getMembersList(type){
					var members={}, list=[];
					// put members from all parents in the hash
					for(var i=storage.hideInherited?(hierarchy.length-1):0; i<hierarchy.length; ++i)
						if(hierarchy[i][1]) // if this class is in the API
							for(var m in hierarchy[i][1][type])
								if(!(m in members)) // skip overriden members
									members[m]=$.extend({definingClass:hierarchy[i][1].name}, hierarchy[i][1][type][m]);
					// move the members to a list
					for(var m in members)
						list.push(members[m]);
					// sort the list ASC by member name
					list.sort(function (a, b){
						return a.name<b.name?-1:(a.name>b.name?1:0);
					});
					return list;
				}
				// config
				if('config' in obj){
					list=getMembersList('config');
					if(list.length){
						html+='<div class="members">' +
								'<div class="members-head"><em class="members-title">configuration options:</em><div class="defined-by">defined by</div></div>';
						for(var i=0; i<list.length; ++i){
							html+='<div class="member">' +
										'<div class="member-expand">&nbsp;</div>' +
										'<div class="member-meta"><div class="defining-class obj-link" ns-path="'+list[i].definingClass+'">'+list[i].definingClass+'</div></div>' +
										'<div class="member-title"><strong>'+list[i].name+'</strong> : '+list[i].dataType+'</div>' +
										'<div class="member-summary">';
							var summary=list[i].summary||list[i].description;
							if(summary)
								html+=summary.substring(0, 100);
							if(summary.length>100)
								html+='...';
							html+='</div>' +
	//										'<div class="member-summary">'+(list[i].summary||list[i].description).substring(0, 100)+'...</div>' +
										'<div class="member-description">'+(list[i].description||list[i].summary)+'</div>' +
									'</div>';
						}
						html+='</div>';
					}
				}
				// properties
				if('properties' in obj){
					list=getMembersList('properties');
					if(list.length){
						html+='<div class="members">' +
								'<div class="members-head"><em class="members-title">properties:</em><div class="defined-by">defined by</div></div>';
						for(var i=0; i<list.length; ++i){
							html+='<div class="member">' +
										'<div class="member-expand">&nbsp;</div>' +
										'<div class="member-meta"><div class="defining-class obj-link" ns-path="'+list[i].definingClass+'">'+list[i].definingClass+'</div></div>' +
										'<div class="member-title"><strong>'+list[i].name+'</strong> : '+list[i].dataType+'</div>' +
										'<div class="member-summary">';
							var summary=list[i].summary||list[i].description;
							if(summary)
								html+=summary.substring(0, 100);
							if(summary.length>100)
								html+='...';
							html+='</div>' +
										'<div class="member-description">'+(list[i].description||list[i].summary)+'</div>' +
									'</div>';
						}
						html+='</div>';
					}
				}
				// methods
				if('methods' in obj){
					list=getMembersList('methods');
					if(list.length){
						html+='<div class="members"><div class="members-head"><em class="members-title">methods:</em><div class="defined-by">defined by</div></div>';
						for(var i=0; i<list.length; ++i){
							html+='<div class="member">' +
									'<div class="member-expand">&nbsp;</div>' +
									'<div class="member-meta"><div class="defining-class obj-link" ns-path="'+list[i].definingClass+'">'+list[i].definingClass+'</div></div>' +
									'<div class="member-title"><strong>'+list[i].name+'</strong>( ';
							var paramsList=[];
							for(var p=0; p<list[i].params.length; ++p){
								var paramStr=list[i].params[p].dataType+' <span class="pre">'+list[i].params[p].name+'</span>';
								if(list[i].params[p].optional)
									paramStr='['+paramStr+']';
								paramsList.push(paramStr);
							}
							html+=paramsList.join(', ');
							html+=' ) : '+(list[i].returns.type||'void');
							if(!$.isEmptyObject(list[i].flags)){
								var flags=[];
								for(var f in list[i].flags)
									if(list[i].flags[f])
										flags.push(f);
								if(flags.length){
									html+=' [';
									for(var f=0; f<flags.length; ++f)
										html+='<span class="method-flag">'+flags[f]+'</span>';
									html+=']';
								}
							}
							html+='</div>' +
									'<div class="member-summary">'+(list[i].summary || list[i].description)+'</div>'+
									'<div class="member-description"><div>'+(list[i].description||list[i].summary)+'</div>';
							// add Parameters and Returns (if any) to member-description 
							if(paramsList.length){
								html+='Parameters:<ul>';
								for(var p=0; p<list[i].params.length; ++p){
									html+='<li><span class="pre">'+list[i].params[p].name+'</span> : '+list[i].params[p].dataType+'<div>';
									if(list[i].params[p].optional)
										html+='(optional) ';
									html+=(list[i].params[p].description)+'</div></li>'; // ||list[i].params[p].summary
								}
								html+='</ul>';
							}
							if(list[i].returns.type!='void'){
								html+='Returns:<ul>';
								html+='<li><span class="pre">'+list[i].returns.type+'</span><div>'+list[i].returns.summary+'</div></li>';
								html+='</ul>';
							}
							html+='</div></div>';
						}
						html+='</div>';
					}
				}
				// events
				if('events' in obj){
					list=getMembersList('events');
					if(list.length){
						html+='<div class="members"><div class="members-head"><em class="members-title">events:</em><div class="defined-by">defined by</div></div>';
						for(var i=0; i<list.length; ++i){
							html+='<div class="member">' +
									'<div class="member-expand">&nbsp;</div>' +
									'<div class="member-meta"><div class="defining-class obj-link" ns-path="'+list[i].definingClass+'">'+list[i].definingClass+'</div></div>' +
									'<div class="member-title"><strong>'+list[i].name+'</strong>( ';
							var paramsString=[];
							for(var p=0; p<list[i].params.length; ++p)
								paramsString.push(list[i].params[p].dataType+' <span class="pre">'+list[i].params[p].name+'</span>');
							html+=paramsString.join(', ');
							html+=' )</div>' +
									'<div class="member-summary">'+(list[i].summary || list[i].description)+'</div>' +
									'<div class="member-description"><div>'+(list[i].description || list[i].summary)+'</div>';
							// add Parameters (if any) to member-description 
							if(paramsString.length){
								html+='Parameters:<ul>';
								for(var p=0; p<list[i].params.length; ++p)
									html+='<li><span class="pre">'+list[i].params[p].name+'</span> : '+list[i].params[p].dataType+'<div>'+(list[i].params[p].description)+'</div></li>';
								html+='</ul>';
							}
							html+='</div></div>';
						}
						html+='</div>';
					}
				}
				
				$('#selectionInfo').html(html);
			}

			/**
			 * @cfg	{String/jQuery}	containerSelector	A container to limit the global listeners' scope. 
			 */
			var containerSelector=this.containerSelector||document;
			if(!this.hasAttachedListeners){
				$(containerSelector).on('click', '.hide-inherited', function (){
					storage.hideInherited=this.checked;
					renderObj(storage.obj);
				});
				$(containerSelector).on('click', '.obj-link', function (){
					location.hash=$(this).attr('ns-path');
		//				renderObj(api.getNSObject($(this).attr('ns-path')));
				});
				$(containerSelector).on('click', '.member-expand', function (){
					$(this).parent().toggleClass('expanded');
				});

				$(window).bind( 'hashchange', renderObjectFromHash);
				$(window).bind('resize', function (){
					$('#selectionInfoWrap, #apiTreeWrap', containerSelector).height($(window).height()-10);
				});
				this.hasAttachedListeners=true;
			}
			
			function renderObjectFromHash(){
				$('.object-title.active', containerSelector).removeClass('active');
				var obj=api.getNSObject(location.hash.substring(1));
				if(obj){
					$('.object-title[ns-path="'+obj.name+'"]', containerSelector).addClass('active');
					renderObj(obj);
				}
			}
			$(window).trigger('resize');
			(function (){
				// run through all classes and compile their "subclasses"
				function processObj(obj){
					if(obj.type=='class' && obj['extends']){
						var extObj=api.getNSObject(obj['extends']);
						if(extObj){
							if(!extObj.subclasses)
								extObj.subclasses=[];
							extObj.subclasses.push(obj);
						}
					}
					if(obj.children)
						for(var c in obj.children)
							processObj(obj.children[c]);
				}
				processObj(api.ns);
			}());
				
			if(location.hash!='')
				renderObjectFromHash();
		};
var api={"ns":{"name":"Documentor","type":"api","children":{"Api":{"description":"Excapsulates all data, configuration and methods of the target API's documentation.\r","summary":"","config":{"NSPathSeparator":{"description":"Defaults to the dot character (\".\") .\r\t\t ","summary":"","name":"NSPathSeparator","dataType":"String"},"ns":{"description":"Namespace defaults.\r\t\t\t ","summary":"","name":"ns","dataType":"Object"},"sourceLoader":{"description":"The loader to use.\r\t\t\t ","summary":"(required)\r","name":"sourceLoader","dataType":"Documentor.SourceLoader"},"sourceProcessor":{"description":"The source processor to use. \r\t\t\t ","summary":"","name":"sourceProcessor","dataType":"Documentor.SourceProcessor"},"sourceFiles":{"description":"If the list is provided it will be processed on initialization.\r\t\t\t ","summary":"","name":"sourceFiles","dataType":"Array"},"renderer":{"description":"If provided will call its render() method after the last source file is processed.\r\t\t\t\t ","summary":"","name":"renderer","dataType":"Documentor.render.DocumentationRenderer"}},"properties":{"ns":{"description":"This object has the complete API description. It has very little upon creation but the SourceProcessor object's job is to fill it with details.\r\t\t\t ","summary":"","name":"ns","dataType":"Object"}},"methods":{"reset":{"description":"Reset the ns object to its initial state. This is useful before rebuilding it from new sources. \r\t\t ","summary":"","name":"reset","params":[],"returns":{"type":"void","summary":""},"flags":{}},"processSourceFiles":{"description":"","summary":"","name":"processSourceFiles","params":[{"description":"A list of file to process.\r","name":"sourceFiles","optional":false,"dataType":"Array"}],"returns":{"type":"void","summary":""},"flags":{}},"getNSObject":{"description":"Returns the namespace object on the given path.\r","summary":"","name":"getNSObject","params":[{"description":"","name":"path","optional":false,"dataType":"String"},{"description":"Set to true to have a \"namespace\" object created if nothing exists for that path.\r","name":"autoCreate","optional":true,"dataType":"Boolean"}],"returns":{"type":"Object","summary":"The object on that path.\r"},"flags":{}}},"events":{"sourceProcessed":{"description":"Fires when a source file has been processed.\r","summary":"","name":"sourceProcessed","params":[{"description":"","name":"this","optional":false,"dataType":"Documentor.Api"},{"description":"","name":"fileURL","optional":false,"dataType":"String"}]},"sourceQueueEmpty":{"description":"Fires when the source files queue of the loader is emptied - all given source files are loaded.\r","summary":"","name":"sourceQueueEmpty","params":[{"description":"","name":"this","optional":false,"dataType":"Documentor.Api"}]}},"definedIn":"../src/Documentor.js","flags":{},"type":"class","name":"Documentor.Api","extends":"EventEmitter"},"SourceLoader":{"description":"Base class for a source file loader.\r\t ","summary":"","config":{},"properties":{"queue":{"description":"","summary":"A list of source files queued for loading.\r","name":"queue","dataType":"Array"}},"methods":{"getSourceFile":{"description":"Returns file contents asynchronously if a callback is specified and may return immediately if there is no callback and the content can be retrieved synchronously.\r","summary":"","name":"getSourceFile","params":[{"description":"Source file locator.\r","name":"fileURL","optional":false,"dataType":"String"},{"description":"A callback to send file contents to when available. Two parameters are passed : {String} fileData and {String} fileURL .\r","name":"cb","optional":true,"dataType":"Function"}],"returns":{"type":"String","summary":"fileData\tFile contents or null if the cb parameter was given.\r"},"flags":{}}},"events":{},"definedIn":"../src/SourceLoader.js","flags":{},"type":"class","name":"Documentor.SourceLoader"},"AjaxSourceLoader":{"description":"Source file loader using AJAX to get file contents.\r\t ","summary":"","config":{},"properties":{},"methods":{},"events":{},"definedIn":"../src/SourceLoader.js","flags":{},"type":"class","name":"Documentor.AjaxSourceLoader","extends":"Documentor.SourceLoader"},"FileSourceLoader":{"description":"Loads the source from a file.\r","summary":"","config":{},"properties":{},"methods":{"listFiles":{"description":"Find all files matched by the pattern which may include the * and ? wildcards. The search is performed synchronously.\r","summary":"","name":"listFiles","params":[{"description":"The string to match file names for.\r","name":"pattern","optional":false,"dataType":"String"}],"returns":{"type":"Array","summary":"A list of files matched for the pattern.\r"},"flags":{"static":true}}},"events":{},"definedIn":"../src/SourceLoader.js","flags":{},"type":"class","name":"Documentor.FileSourceLoader","extends":"Documentor.SourceLoader"},"SourceProcessor":{"description":"Base class for a source file prcessor.\r\t ","summary":"","config":{},"properties":{},"methods":{"process":{"description":"Parses the source code and updates the specified API object. \r","summary":"","name":"process","params":[{"description":"Source file contents.\r","name":"fileData","optional":false,"dataType":"String"},{"description":"The API object to amend.\r","name":"api","optional":false,"dataType":"Documentor.Api"}],"returns":{"type":"void","summary":""},"flags":{}}},"events":{},"definedIn":"../src/SourceProcessor.js","flags":{},"type":"class","name":"Documentor.SourceProcessor"},"render":{"type":"namespace","name":"render","children":{"DocumentationRenderer":{"description":"Base class for a documentation renderer.\r\t ","summary":"","config":{},"properties":{},"methods":{"render":{"description":"Renders the documentation from the given API object\r","summary":"","name":"render","params":[{"description":"The API object to render.\r","name":"api","optional":false,"dataType":"Documentor.Api"}],"returns":{"type":"void","summary":""},"flags":{}}},"events":{},"definedIn":"../src/render/DocumentationRenderer.js","flags":{},"type":"class","name":"Documentor.render.DocumentationRenderer"},"PHGDocRenderer":{"description":"Renders the documentaion tree.\r\t ","summary":"","config":{"exportPath":{"description":"If the option is not given then it is assumed that the code runs in a browser and will render\r in the current page. Add this option when running in node.js and the generated content will go into a folder instead. \r\t\t ","summary":"","name":"exportPath","dataType":"String"},"resourceIncludes":{"description":"","summary":"The HTML to include JS and CSS resources. By default it refers to \"resources/jquery-1.4.3.min.js\" and \"resources/PHGDoc.css\".\r","name":"resourceIncludes","dataType":"String"},"renderFn":{"description":"","summary":"The rendering function which will print the api tree and details.\r","name":"renderFn","dataType":"Function"},"containerSelector":{"description":"","summary":"A container to limit the global listeners' scope. \r","name":"containerSelector","dataType":"String/jQuery"}},"properties":{},"methods":{},"events":{},"definedIn":"../src/PHGDoc/PHGDocRenderer.js","flags":{},"type":"class","name":"Documentor.render.PHGDocRenderer","extends":"Documentor.render.DocumentationRenderer"}},"methods":{},"description":""},"PHGSourceProcessor":{"description":"Source file processor for JS source code from PHG. It extracts and processes javaDoc style comments in source.\r The set of tags it recognizes is mostly borrowed from ExtJS.\r\t ","summary":"","config":{},"properties":{"docTagProcessors":{"description":"A hash keyed by the tag names that this object can process. At each key there's a parser function which will be given a line to process. \r\t\t ","summary":"","name":"docTagProcessors","dataType":"Object"}},"methods":{},"events":{},"definedIn":"../src/PHGDoc/PHGSourceProcessor.js","flags":{},"type":"class","name":"Documentor.PHGSourceProcessor","extends":"Documentor.SourceProcessor"}},"description":"<h1>documentor.js</h1>\n\n<p>Source code documentation generator written in JS and aiming for speed, flexibility and convenience.</p>\n\n<p>It is:</p>\n\n<ul><li>portable - it can run from the command line or in the browser</li><li>modular - source code loading, processing and documentation generation are executed in separate modules which allows each to be configured as needed</li><li>instant - with the available renderer there&#39;s no need to generate static HTML files before you can see the docs</li><li>source code&#39;s language agnostic - the included parser doesn&#39;t actually read the source code - it reads javadoc-style comments and the rest is simply ignored </li><li>flexible - depending on the setup could load source files from different locations, can process different languages and documentation formats and can generate different documentation layouts </li></ul>\n\n<h2>Architecture</h2>\n\n<p>These are the usual steps of the process:</p>\n\n<ul><li>a <code>Documentor.Api</code> object is first needed which will provide the packaging for all data and methods involved in building the API structure and generating the documentation files.  </li><li>then a <code>Documentor.SourceLoader</code> object is needed which is able to load the source files from where they are stored (as local files or at some remote location).  </li><li>each source file will then need to be processed by a <code>Documentor.SourceProcessor</code> object which has to update the API structure in the <code>Documentor.Api</code> object.  </li><li>and finally the API structure is passed on to a <code>Documentor.render.DocumentationRenderer</code> object which will generate the docs (whether as static files or will print them in the current browser page).</li></ul>\n\n<h2>Customization</h2>\n\n<p>The classes in the package do not have many options to be configured but additional functionality can be added by sub-classing them. If for example you need to process different tags than what&#39;s available in <code>Documentor.PHGSourceProcessor</code> the easiest way to take is updating or adding in the <code>docTagProcessors</code> property. This will of course lead to the need to change the rendering object as it will have to be aware of the new tags and their meaning. </p>\n\n<h2>Examples</h2>\n\n<p>Those for now can only be found in the project&#39;s own <em>docs</em> folder - there is <code>docs.html</code> which builds the documentation on-the-fly when loaded in the browser and <code>docs.js</code> which produces static documentation files when run in node.js.</p>\n\n<h2>License</h2>\n\n<p>The MIT License, because it rules.</p>"}};
api.NSPathSeparator='.';
api.getNSObject=function (path, autoCreate){
			var obj=null,
				pathNames = typeof path=='string'?path.split(this.NSPathSeparator):path;
			if(typeof path=='string')
				pathNames=path.split(this.NSPathSeparator);
			else{
				pathNames=path;
				path=path.join(this.NSPathSeparator);
			}
			if(pathNames.length){
				obj=this.ns;
				var currentPath=[];
				if(pathNames[0]==this.ns.name)
					pathNames.shift();
				while(pathNames.length){
					var p=pathNames.shift();
					currentPath.push(p);
					if(!(p in obj.children)){
						if(autoCreate)
							obj.children[p]={
								type:'namespace',
								name:currentPath.join(this.NSPathSeparator),
								children:{},
								methods:{},
								description:''
							};
						else
							return null;
					}
					obj=obj.children[p];
				}
			}
			return obj;
		};
$(document).ready(function (){ renderFn(api); });
}());</script>
</head>
<body>
</body>
</html>